# 响应式系统

副作用函数

当一个函数内部更改了外部的数据，那么这个函数就是一个副作用函数。如果一个函数只返回计算结果，没有操作外部状态，那么这个函数就不是一个副作用函数。

副作用是指当某个函数A改变了某一状态，其他函数会读取到改变后的状态，那么A对其他函数产生了副作用。

响应式数据

某一状态改变，会告知依赖了此状态的数据，并将改变后的值发送给依赖了此状态的数据。

在Vue中就是数据改变了，页面的视图也随之更新。

数据无非就是被读取与重新赋值。所以实现响应式就是要介入这两个过程。

首先需要记录谁读取了该数据。

在数据改变时，找到第一步记录的“谁”，告知它数据已改变，它自己将进行下一步打算。x

在数据被读取时，我们就可以通过getter记录这个副作用函数，将这个副作用函数与数据的属性一一对应起来。在数据被修改时，通过setter函数将之前保存的副作用函数再次执行，就实现了一个简单的响应式。

通过设置保存副作用函数的容器的数据结构，可以将每个属性与一个副作用函数对应起来。

处理if逻辑分支